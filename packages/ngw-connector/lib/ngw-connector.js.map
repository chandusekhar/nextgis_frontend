{"version":3,"sources":["webpack://NgwConnector/webpack/universalModuleDefinition","webpack://NgwConnector/webpack/bootstrap","webpack://NgwConnector/(webpack)/buildin/global.js","webpack://NgwConnector/./src/polyfills.js","webpack://NgwConnector/C:/Users/rendr/nextgis/nextgisweb_frontend/node_modules/timers-browserify/main.js","webpack://NgwConnector/C:/Users/rendr/nextgis/nextgisweb_frontend/node_modules/setimmediate/setImmediate.js","webpack://NgwConnector/C:/Users/rendr/nextgis/nextgisweb_frontend/node_modules/process/browser.js","webpack://NgwConnector/./src/utils.ts","webpack://NgwConnector/./src/ngw-connector.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","g","this","Function","eval","e","setImmediate","global","constructor","then","resolve","reject","TypeError","_state","_handled","_value","undefined","_deferreds","u","_immediateFn","onFulfilled","onRejected","f","promise","push","apply","arguments","length","_unhandledRejectionFn","setTimeout","all","Array","slice","race","console","warn","self","Error","Promise","scope","Timeout","id","clearFn","_id","_clearFn","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","process","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","getPrototypeOf","toString","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","messagePrefix","Math","random","onGlobalMessage","event","source","data","indexOf","addEventListener","attachEvent","installPostMessageImplementation","MessageChannel","channel","port1","port2","installMessageChannelImplementation","createElement","html","documentElement","script","onreadystatechange","removeChild","appendChild","installReadyStateChangeImplementation","callback","args","task","run","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","len","marker","runClearTimeout","Item","array","noop","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","templateRe","template","str","replace","OPTIONS","route","ngw_connector_NgwConnector","NgwConnector","options","_loadingQueue","_loadingStatus","__assign","connect","auth","_a","login","password","getUserInfo","_b","sent","makeQuery","_this","client","makeClientId","headers","Authorization","withCredentials","user","btoa","unescape","encodeURIComponent","request","params","apiItems","a","apiItem","url","shift","replaceParams","fry","arg","post","method","baseUrl","_setLoadingQueue","_getJson","_executeLoadingQueue","catch","er","waiting","timestamp","Date","isError","wait","error","xhr","XMLHttpRequest","open","readyState","status","responseText","JSON","parse","message","onerror","upload","onprogress","lengthComputable","percentComplete","loaded","total","onProgress","h","setRequestHeader","file","FormData","append","stringify","send","loadJSON"],"mappings":"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","file":"ngw-connector.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NgwConnector\"] = factory();\n\telse\n\t\troot[\"NgwConnector\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","// https://github.com/taylorhakes/promise-polyfill\n// Copyright (c) 2014 Taylor Hakes\n// Copyright (c) 2014 Forbes Lindesay\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?n():\"function\"==typeof define&&define.amd?define(n):n()}(0,function(){\"use strict\";function e(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})}function n(){}function t(e){if(!(this instanceof t))throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"not a function\");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],u(e,this)}function o(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,t._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var o;try{o=t(e._value)}catch(f){return void i(n.promise,f)}r(n.promise,o)}else(1===e._state?r:i)(n.promise,e._value)})):e._deferreds.push(n)}function r(e,n){try{if(n===e)throw new TypeError(\"A promise cannot be resolved with itself.\");if(n&&(\"object\"==typeof n||\"function\"==typeof n)){var o=n.then;if(n instanceof t)return e._state=3,e._value=n,void f(e);if(\"function\"==typeof o)return void u(function(e,n){return function(){e.apply(n,arguments)}}(o,n),e)}e._state=1,e._value=n,f(e)}catch(r){i(e,r)}}function i(e,n){e._state=2,e._value=n,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&t._immediateFn(function(){e._handled||t._unhandledRejectionFn(e._value)});for(var n=0,r=e._deferreds.length;r>n;n++)o(e,e._deferreds[n]);e._deferreds=null}function u(e,n){var t=!1;try{e(function(e){t||(t=!0,r(n,e))},function(e){t||(t=!0,i(n,e))})}catch(o){if(t)return;t=!0,i(n,o)}}var c=setTimeout;t.prototype[\"catch\"]=function(e){return this.then(null,e)},t.prototype.then=function(e,t){var r=new this.constructor(n);return o(this,new function(e,n,t){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof n?n:null,this.promise=t}(e,t,r)),r},t.prototype[\"finally\"]=e,t.all=function(e){return new t(function(n,t){function o(e,f){try{if(f&&(\"object\"==typeof f||\"function\"==typeof f)){var u=f.then;if(\"function\"==typeof u)return void u.call(f,function(n){o(e,n)},t)}r[e]=f,0==--i&&n(r)}catch(c){t(c)}}if(!e||\"undefined\"==typeof e.length)throw new TypeError(\"Promise.all accepts an array\");var r=Array.prototype.slice.call(e);if(0===r.length)return n([]);for(var i=r.length,f=0;r.length>f;f++)o(f,r[f])})},t.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===t?e:new t(function(n){n(e)})},t.reject=function(e){return new t(function(n,t){t(e)})},t.race=function(e){return new t(function(n,t){for(var o=0,r=e.length;r>o;o++)e[o].then(n,t)})},t._immediateFn=\"function\"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){c(e,0)},t._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",e)};var l=function(){if(\"undefined\"!=typeof self)return self;if(\"undefined\"!=typeof window)return window;if(\"undefined\"!=typeof global)return global;throw Error(\"unable to locate global object\")}();\"Promise\"in l?l.Promise.prototype[\"finally\"]||(l.Promise.prototype[\"finally\"]=e):l.Promise=t});\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import { RequestOptions } from './interfaces';\n\nexport function loadJSON(url, callback, options: RequestOptions = {}, error) {\n  options.method = options.method || 'GET';\n  let xhr: XMLHttpRequest;\n\n  xhr = new XMLHttpRequest();\n  xhr.open(options.method || 'GET', url, true); // true for asynchronous\n\n  xhr.onreadystatechange = () => {\n    if ((xhr.readyState === 4 && xhr.status === 200) || (xhr.readyState === 3 && xhr.status === 201)) {\n      if (xhr.responseText) {\n        try {\n          callback(JSON.parse(xhr.responseText));\n        } catch (er) {\n          error();\n        }\n      }\n    } else if (xhr.readyState === 3 && xhr.status === 400) {\n      if (xhr.responseText) {\n        try {\n          error(JSON.parse(xhr.responseText));\n        } catch (er) {\n          error({ message: '' });\n        }\n      } else {\n        error({ message: '' });\n      }\n    }\n  };\n\n  xhr.onerror = (er) => {\n    error(er);\n  };\n\n  xhr.upload.onprogress = function (e) {\n    if (e.lengthComputable) {\n      const percentComplete = (e.loaded / e.total) * 100;\n      if (options.onProgress) {\n        options.onProgress(percentComplete);\n      }\n      // console.log(percentComplete + '% uploaded');\n    }\n  };\n\n  const headers = options.headers;\n  if (headers) {\n    for (const h in headers) {\n      if (headers.hasOwnProperty(h)) {\n        xhr.setRequestHeader(h, headers[h]);\n      }\n    }\n  }\n  xhr.withCredentials = true;\n\n  let data;\n  if (options.file) {\n    data = new FormData();\n    data.append('file', options.file);\n    if (options.data) {\n      for (const d in data) {\n        if (data.hasOwnProperty(d)) {\n          data.append(d, data[d]);\n        }\n      }\n    }\n  } else {\n    data = options.data ? JSON.stringify(options.data) : null;\n  }\n\n  xhr.send(data);\n}\n\n// https://github.com/Leaflet/Leaflet/blob/b507e21c510b53cd704fb8d3f89bb46ea925c8eb/src/core/Util.js#L165\nconst templateRe = /\\{ *([\\w_-]+) *\\}/g;\n\nexport function template(str, data) {\n  return str.replace(templateRe, (s, key) => {\n    let value = data[key];\n\n    if (value === undefined) {\n      throw new Error('No value provided for letiable ' + s);\n\n    } else if (typeof value === 'function') {\n      value = value(data);\n    }\n    return value;\n  });\n}\n","\nimport './polyfills';\n\nimport { RequestItemsParamsMap } from './types/RequestItemsParamsMap';\nimport {\n  NgwConnectorOptions, Router,\n  RequestItemsResponseMap, RequestOptions,\n  Params, LoadingQueue, UserInfo,\n} from './interfaces';\nimport { loadJSON, template } from './utils';\n\nexport * from './interfaces';\n\nconst OPTIONS: NgwConnectorOptions = {\n  route: '/api/component/pyramid/route',\n  // baseUrl: 'http://'\n};\n\nexport default class NgwConnector {\n\n  options: NgwConnectorOptions = {};\n\n  user: UserInfo;\n\n  private route;\n  private _loadingQueue: { [name: string]: LoadingQueue } = {};\n  private _loadingStatus = {};\n\n  constructor(options: NgwConnectorOptions) {\n    this.options = {...OPTIONS, ...(options || {})};\n  }\n\n  async connect(): Promise<Router> {\n    if (this.route) {\n      return Promise.resolve(this.route);\n    } else {\n      if (this.options.auth) {\n        const { login, password } = this.options.auth;\n        if (login && password) {\n          await this.getUserInfo();\n        }\n      }\n      return await this.makeQuery(this.options.route, {}, {}).then((route) => {\n        this.route = route;\n        return route;\n      });\n    }\n  }\n\n  getUserInfo(): Promise<any> {\n    const client = this.makeClientId();\n    // return this.request('auth.current_user', {}, {\n    return this.makeQuery('/api/component/auth/current_user', {}, {\n      headers: {\n        'Authorization': 'Basic ' + client\n      },\n      withCredentials: true\n    }).then((data: UserInfo) => {\n      this.user = data;\n      return data;\n    });\n  }\n\n  makeClientId() {\n    const { login, password } = this.options.auth;\n    return window.btoa(unescape(encodeURIComponent(`${login}:${password}`)));\n  }\n\n  request<K extends keyof RequestItemsParamsMap>(\n    name: K,\n    params?: RequestItemsParamsMap[K] | {},\n    options?: RequestOptions): Promise<RequestItemsResponseMap[K]> {\n\n    return this.connect().then((apiItems) => {\n      for (const a in apiItems) {\n        if (apiItems.hasOwnProperty(a)) {\n          if (a === name) {\n            const apiItem = apiItems[a].slice();\n            let url = apiItem.shift();\n            if (apiItem.length) {\n              params = params || {};\n              const replaceParams = {};\n              for (let fry = 0; fry < apiItem.length; fry++) {\n                const arg = apiItem[fry];\n                replaceParams[fry] = '{' + arg + '}';\n                if (params[arg] === undefined) {\n                  throw new Error('`' + arg + '`' + ' url api argument is not specified');\n                }\n              }\n              url = template(url, replaceParams);\n            }\n            return this.makeQuery(url, params, options);\n          }\n        }\n      }\n    });\n  }\n\n  post<K extends keyof RequestItemsParamsMap>(\n    name: K,\n    options?: RequestOptions,\n    params?: RequestItemsParamsMap[K] | {}): Promise<RequestItemsResponseMap[K]> {\n\n    options = options || {};\n    options.method = 'POST';\n    return this.request(name, params, options);\n  }\n\n  makeQuery(\n    url: string,\n    params: Params,\n    options: RequestOptions): Promise<any> {\n\n    url = (this.options.baseUrl ? this.options.baseUrl : '') + url;\n    if (url) {\n      if (params) {\n        url = template(url, params);\n      }\n      // remove double slash\n      url = url.replace(/([^:]\\/)\\/+/g, '$1');\n      if (!this._loadingStatus[url]) {\n        this._loadingStatus[url] = true;\n\n        return this._getJson(url, options).then((data) => {\n          this._loadingStatus[url] = false;\n          this._executeLoadingQueue(url, data);\n          return data;\n        }).catch((er) => {\n          this._loadingStatus[url] = false;\n          this._executeLoadingQueue(url, er, true);\n          throw er;\n        });\n      } else {\n        this._loadingStatus[url] = false;\n        const promise = new Promise((resolve, reject) => {\n          this._setLoadingQueue(url, resolve, reject);\n        });\n        return promise;\n      }\n    } else {\n      throw new Error('No `url` parameter set for option ' + name);\n    }\n\n  }\n\n  _setLoadingQueue(name, resolve, reject) {\n    this._loadingQueue[name] = this._loadingQueue[name] || {\n      name,\n      waiting: [],\n    };\n    this._loadingQueue[name].waiting.push({\n      resolve,\n      reject,\n      timestamp: new Date(),\n    });\n  }\n\n  _executeLoadingQueue(name, data, isError?) {\n    const queue = this._loadingQueue[name];\n    if (queue) {\n      for (let fry = 0; fry < queue.waiting.length; fry++) {\n        const wait = queue.waiting[fry];\n        if (isError) {\n          if (wait.reject) {\n            wait.reject();\n          }\n        } else {\n          wait.resolve(data);\n        }\n      }\n      queue.waiting = [];\n    }\n  }\n\n  _getJson(url: string, options: RequestOptions): Promise<any> {\n    return new Promise((resolve, reject) => {\n      if (this.user) {\n        options = options || {};\n        options.withCredentials = true;\n      }\n      loadJSON(url, resolve, options, reject);\n    });\n  }\n}\n"],"sourceRoot":""}