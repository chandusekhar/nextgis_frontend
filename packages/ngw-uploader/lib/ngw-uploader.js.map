{"version":3,"sources":["webpack://NgwUploader/webpack/universalModuleDefinition","webpack://NgwUploader/webpack/bootstrap","webpack://NgwUploader/../ngw-connector/lib/ngw-connector.js","webpack://NgwUploader/C:/Users/rendr/nextgis/nextgisweb_frontend/node_modules/events/events.js","webpack://NgwUploader/./src/utils.ts","webpack://NgwUploader/./src/decorators.ts","webpack://NgwUploader/./src/ngw-uploader.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","e","default","this","Function","eval","constructor","then","resolve","reject","TypeError","_state","_handled","_value","_deferreds","_immediateFn","onFulfilled","onRejected","a","promise","u","push","apply","arguments","length","_unhandledRejectionFn","f","setTimeout","catch","finally","all","Array","slice","race","console","warn","self","Error","Promise","setImmediate","_id","_clearFn","clearTimeout","setInterval","clearInterval","close","unref","ref","enroll","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","document","getPrototypeOf","toString","process","nextTick","postMessage","importScripts","onmessage","Math","random","source","data","indexOf","addEventListener","attachEvent","MessageChannel","port1","port2","createElement","documentElement","onreadystatechange","removeChild","appendChild","callback","args","concat","run","h","fun","array","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","replace","assign","route","options","_loadingQueue","_loadingStatus","connect","next","throw","done","label","sent","trys","ops","return","iterator","pop","auth","login","password","getUserInfo","makeQuery","makeClientId","headers","Authorization","withCredentials","user","btoa","unescape","encodeURIComponent","request","shift","post","method","baseUrl","_setLoadingQueue","_getJson","_executeLoadingQueue","waiting","timestamp","Date","XMLHttpRequest","open","readyState","status","responseText","JSON","parse","message","onerror","upload","onprogress","lengthComputable","loaded","total","onProgress","setRequestHeader","file","FormData","append","stringify","send","EventEmitter","_events","_maxListeners","undefined","isFunction","arg","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNumber","isNaN","type","er","handler","len","error","err","context","listener","newListener","warned","trace","fired","g","list","position","splice","listenerCount","evlistener","emitter","templateRe","evented","target","propertyKey","descriptor","originalMethod","_this","_i","template","str","eventBegin","state","resp","eventEnd","eventError","ngw_uploader_NgwUploader","NgwUploader","inputOptions","html","events","__assign","connector","ngw_connector_default","createInput","input","setAttribute","innerHTML","uploadPromise","uploadRaster","files","success","fileUpload","meta","createName","addTimestampToName","toISOString","createResource","newRes","createStyle","resource","cls","display_name","parent","id","parentId","raster_layer","mime_type","size","srs","Accept","styleData","description","keyname","newStyle","createWms","wmsData","resmeta","items","wmsserver_service","layers","resource_id","min_scale_denom","max_scale_denom","percentComplete","toFixed","eventProgress","upload_meta","__decorate","File","__webpack_exports__"],"mappings":"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","file":"ngw-uploader.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NgwUploader\"] = factory();\n\telse\n\t\troot[\"NgwUploader\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.NgwConnector=t():e.NgwConnector=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=5)}([function(e,t){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e,t){!function(){\"use strict\";function n(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}function r(){}function o(e){if(!(this instanceof o))throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"not a function\");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function i(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void a(t.promise,e)}u(t.promise,r)}else(1===e._state?u:a)(t.promise,e._value)})):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError(\"A promise cannot be resolved with itself.\");if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void s(e);if(\"function\"==typeof n)return void c(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,s(e)}catch(t){a(e,t)}}function a(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;n>t;t++)i(e,e._deferreds[t]);e._deferreds=null}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,a(t,e))})}catch(e){if(n)return;n=!0,a(t,e)}}var f=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return i(this,new function(e,t,n){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.promise=n}(e,t,n)),n},o.prototype.finally=n,o.all=function(e){return new o(function(t,n){function r(e,u){try{if(u&&(\"object\"==typeof u||\"function\"==typeof u)){var a=u.then;if(\"function\"==typeof a)return void a.call(u,function(t){r(e,t)},n)}o[e]=u,0==--i&&t(o)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError(\"Promise.all accepts an array\");var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);for(var i=o.length,u=0;o.length>u;u++)r(u,o[u])})},o.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,o=e.length;o>r;r++)e[r].then(t,n)})},o._immediateFn=\"function\"==typeof e&&function(t){e(t)}||function(e){f(e,0)},o._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",e)};var l=function(){if(\"undefined\"!=typeof self)return self;if(\"undefined\"!=typeof window)return window;if(void 0!==t)return t;throw Error(\"unable to locate global object\")}();\"Promise\"in l?l.Promise.prototype.finally||(l.Promise.prototype.finally=n):l.Promise=o}()}).call(this,n(2).setImmediate,n(0))},function(e,t,n){(function(e){var r=void 0!==e&&e||\"undefined\"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(3),t.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){\"use strict\";if(!e.setImmediate){var r,o=1,i={},u=!1,a=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,\"[object process]\"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage(\"\",\"*\"),e.onmessage=n,t}}()?function(){var t=\"setImmediate$\"+Math.random()+\"$\",n=function(n){n.source===e&&\"string\"==typeof n.data&&0===n.data.indexOf(t)&&f(+n.data.slice(t.length))};e.addEventListener?e.addEventListener(\"message\",n,!1):e.attachEvent(\"onmessage\",n),r=function(n){e.postMessage(t+n,\"*\")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){f(e.data)},r=function(t){e.port2.postMessage(t)}}():a&&\"onreadystatechange\"in a.createElement(\"script\")?function(){var e=a.documentElement;r=function(t){var n=a.createElement(\"script\");n.onreadystatechange=function(){f(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(f,0,e)},s.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var u={callback:e,args:t};return i[o]=u,r(o),o++},s.clearImmediate=c}function c(e){delete i[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=i[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),u=!1}}}}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(4))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function u(){throw new Error(\"clearTimeout has not been defined\")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r=\"function\"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var s,c=[],f=!1,l=-1;function d(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&p())}function p(){if(!f){var e=a(d);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||f||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(e){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(e,t,n){\"use strict\";n.r(t);n(1);var r=/\\{ *([\\w_-]+) *\\}/g;function o(e,t){return e.replace(r,function(e,n){var r=t[n];if(void 0===r)throw new Error(\"No value provided for letiable \"+e);return\"function\"==typeof r&&(r=r(t)),r})}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(u,a)}s((r=r.apply(e,t||[])).next())})},a=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},s={route:\"/api/component/pyramid/route\"},c=function(){function e(e){this.options={},this._loadingQueue={},this._loadingStatus={},this.options=i({},s,e||{})}return e.prototype.connect=function(){return u(this,void 0,void 0,function(){var e,t,n,r=this;return a(this,function(o){switch(o.label){case 0:return this.route?[2,Promise.resolve(this.route)]:[3,1];case 1:return this.options.auth?(e=this.options.auth,t=e.login,n=e.password,t&&n?[4,this.getUserInfo()]:[3,3]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.makeQuery(this.options.route,{},{}).then(function(e){return r.route=e,e})];case 4:return[2,o.sent()]}})})},e.prototype.getUserInfo=function(){var e=this,t=this.makeClientId();return this.makeQuery(\"/api/component/auth/current_user\",{},{headers:{Authorization:\"Basic \"+t},withCredentials:!0}).then(function(t){return e.user=t,t})},e.prototype.makeClientId=function(){var e=this.options.auth,t=e.login,n=e.password;return window.btoa(unescape(encodeURIComponent(t+\":\"+n)))},e.prototype.request=function(e,t,n){var r=this;return this.connect().then(function(i){for(var u in i)if(i.hasOwnProperty(u)&&u===e){var a=i[u].slice(),s=a.shift();if(a.length){t=t||{};for(var c={},f=0;f<a.length;f++){var l=a[f];if(c[f]=\"{\"+l+\"}\",void 0===t[l])throw new Error(\"`\"+l+\"` url api argument is not specified\")}s=o(s,c)}return r.makeQuery(s,t,n)}})},e.prototype.post=function(e,t,n){return(t=t||{}).method=\"POST\",this.request(e,n,t)},e.prototype.makeQuery=function(e,t,n){var r=this;if(e=(this.options.baseUrl?this.options.baseUrl:\"\")+e)return t&&(e=o(e,t)),e=e.replace(/([^:]\\/)\\/+/g,\"$1\"),this._loadingStatus[e]?(this._loadingStatus[e]=!1,new Promise(function(t,n){r._setLoadingQueue(e,t,n)})):(this._loadingStatus[e]=!0,this._getJson(e,n).then(function(t){return r._loadingStatus[e]=!1,r._executeLoadingQueue(e,t),t}).catch(function(t){throw r._loadingStatus[e]=!1,r._executeLoadingQueue(e,t,!0),t}));throw new Error(\"No `url` parameter set for option \"+name)},e.prototype._setLoadingQueue=function(e,t,n){this._loadingQueue[e]=this._loadingQueue[e]||{name:e,waiting:[]},this._loadingQueue[e].waiting.push({resolve:t,reject:n,timestamp:new Date})},e.prototype._executeLoadingQueue=function(e,t,n){var r=this._loadingQueue[e];if(r){for(var o=0;o<r.waiting.length;o++){var i=r.waiting[o];n?i.reject&&i.reject():i.resolve(t)}r.waiting=[]}},e.prototype._getJson=function(e,t){var n=this;return new Promise(function(r,o){n.user&&((t=t||{}).withCredentials=!0),function(e,t,n,r){var o;void 0===n&&(n={}),n.method=n.method||\"GET\",(o=new XMLHttpRequest).open(n.method||\"GET\",e,!0),o.onreadystatechange=function(){if(4===o.readyState&&200===o.status||3===o.readyState&&201===o.status){if(o.responseText)try{t(JSON.parse(o.responseText))}catch(e){r()}}else if(3===o.readyState&&400===o.status)if(o.responseText)try{r(JSON.parse(o.responseText))}catch(e){r({message:\"\"})}else r({message:\"\"})},o.onerror=function(e){r(e)},o.upload.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;n.onProgress&&n.onProgress(t)}};var i,u=n.headers;if(u)for(var a in u)u.hasOwnProperty(a)&&o.setRequestHeader(a,u[a]);if(o.withCredentials=n.withCredentials,n.file){if((i=new FormData).append(\"file\",n.file),n.data)for(var s in i)i.hasOwnProperty(s)&&i.append(s,i[s])}else i=n.data?JSON.stringify(n.data):null;o.send(i)}(e,r,t,o)})},e}();t.default=c}]).default});\n//# sourceMappingURL=ngw-connector.js.map","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","// from leaflet Util.js\r\nconst templateRe = /\\{ *([\\w_-]+) *\\}/g;\r\n\r\nexport function template(str, data) {\r\n  return str.replace(templateRe, function (s, key) {\r\n    let value = data[key];\r\n\r\n    if (value === undefined) {\r\n      value = '';\r\n\r\n    } else if (typeof value === 'function') {\r\n      value = value(data);\r\n    }\r\n    return value;\r\n  });\r\n}\r\n","import NgwUploader, { EmitterStatus, AvailableStatus } from './ngw-uploader';\r\nimport { template } from './utils';\r\n\r\n/**\r\n * decorator to emit events on start end and error for async methods\r\n * @param options\r\n */\r\nexport function evented(options?: { status: AvailableStatus; template?: string }) {\r\n  return function (target: NgwUploader, propertyKey: string, descriptor: PropertyDescriptor) {\r\n    const originalMethod = descriptor.value;\r\n\r\n    descriptor.value = function (...args) {\r\n      let message = status || propertyKey;\r\n      if (options && options.template && typeof args[0] === 'object') {\r\n        message = template(options.template, args[0]);\r\n      }\r\n\r\n      const eventBegin: EmitterStatus = {\r\n        status: options.status,\r\n        state: 'begin',\r\n        message: message + ' start',\r\n        data: args[0]\r\n      };\r\n      this.emitter.emit('status:change', eventBegin);\r\n\r\n      return originalMethod.apply(this, args).then((resp) => {\r\n        const eventEnd: EmitterStatus = {\r\n          status: options.status,\r\n          state: 'end',\r\n          message: message + ' finish',\r\n          data: resp\r\n        };\r\n        this.emitter.emit('status:change', eventEnd);\r\n        return resp;\r\n      }).catch((er) => {\r\n        const eventError: EmitterStatus = {\r\n          status: options.status,\r\n          state: 'error',\r\n          message: message + ' error',\r\n          data: er\r\n        };\r\n        this.emitter.emit('status:change', eventError);\r\n        throw er;\r\n      });\r\n    };\r\n    return descriptor;\r\n  };\r\n}\r\n","// import { NgwConnector } from '../ngw-connector/src/ngw-connector';\nimport NgwConnector, { NgwConnectorOptions } from '@nextgis/ngw-connector';\nimport { EventEmitter } from 'events';\nimport { evented } from './decorators';\n\nexport interface UploadInputOptions {\n  html?: string;\n  name?: string;\n  parentId?: number;\n  addTimestampToName?: boolean;\n  success?: (newRes: ResourceCreateResp) => void;\n  error?: (er: Error) => void;\n  createName?: (name: string) => string;\n}\n\ninterface ResourceCreateResp {\n  id: number;\n  name?: string;\n  parent?: { id: number };\n}\n\nexport interface NgwUploadOptions extends NgwConnectorOptions {\n  inputOptions?: UploadInputOptions;\n}\n\nexport interface RasterUploadResp {\n  status?: number;\n}\n\nexport interface RasterRequestResourceOptions {\n  cls: 'raster_layer';\n  display_name: string;\n  parent: { id: number };\n}\n\nexport interface RasterLayerSourceOptions {\n  id: string;\n  mime_type: string;\n  size: number;\n}\n\nexport interface RasterRequestLayerOptions {\n  source: RasterLayerSourceOptions;\n  srs: { id: 3857 };\n}\n\nexport interface RasterRequestOptions {\n  resource: RasterRequestResourceOptions;\n  raster_layer: RasterRequestLayerOptions;\n}\n\nexport interface RasterUploadOptions {\n  name?: string;\n  parentId?: number;\n  onProgress?: (percentComplete: number) => void;\n  addTimestampToName?: boolean;\n  createName?: (name: string) => string;\n}\n\nexport interface RespError {\n  exception: 'ValidationError';\n  message: string;\n  serializer: string;\n}\n\nexport type AvailableStatus = 'upload' | 'create-resource' | 'create-style' | 'create-wms';\n\nexport interface EmitterStatus {\n  status: AvailableStatus;\n  state: 'begin' | 'end' | 'progress' | 'error';\n  message?: string;\n  data?: any;\n}\n\nexport default class NgwUploader {\n\n  options: NgwUploadOptions = {\n    inputOptions: {\n      html: 'Upload file',\n    },\n  };\n\n  emitter = new EventEmitter();\n  connector: NgwConnector;\n\n  constructor(options: NgwUploadOptions) {\n    this.options = { ...this.options, ...options };\n    this.connector = new NgwConnector(options);\n  }\n\n  createInput(options: UploadInputOptions = {}): HTMLElement {\n    options = { ...this.options.inputOptions, ...options };\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.innerHTML = options.html;\n\n    input.addEventListener('change', () => {\n      const uploadPromise = this.uploadRaster(input.files[0], options);\n      if (options.success) {\n        uploadPromise.then(options.success);\n      }\n      if (options.error) {\n        uploadPromise.then(options.error);\n      }\n      // .then((newStyle) => {\n      //   this.createWms(newStyle, options.name);\n      // });\n    });\n\n    return input;\n  }\n\n  uploadRaster(file: File, options: RasterUploadOptions): Promise<any> {\n    return this.fileUpload(file, options).then((meta) => {\n      let name = options.name || meta.name;\n      if (options.createName) {\n        name = options.createName(name);\n      } else if (options.addTimestampToName) {\n        name += '_' + new Date().toISOString();\n      }\n      options.name = name;\n      return this.createResource(meta, name, options).then((newRes) => {\n        if (newRes) {\n          newRes.name = newRes.name || options.name;\n          return this.createStyle(newRes);\n        }\n        return Promise.reject('No resource');\n      });\n    });\n  }\n\n  @evented({ status: 'create-resource', template: 'resource creation' })\n  createResource(meta, name: string, options: RasterUploadOptions) {\n\n    const data = {\n      resource: {\n        cls: 'raster_layer',\n        display_name: name,\n        parent: { id: options.parentId !== undefined ? options.parentId : 0 },\n      },\n      raster_layer: {\n        source: {\n          id: meta.id,\n          mime_type: meta.mime_type,\n          size: meta.size,\n        },\n        srs: { id: 3857 },\n      },\n    };\n\n    return this.connector.post('resource.collection', { data, headers: { Accept: '*/*' } });\n  }\n\n  @evented({ status: 'create-style', template: 'style creation for resource ID {id}' })\n  createStyle(newRes, name?: string) {\n    name = name || newRes.name || newRes.id;\n    const styleData = {\n      resource: {\n        cls: 'raster_style',\n        description: null,\n        display_name: name + '_style',\n        keyname: null,\n        parent: {\n          id: newRes.id,\n        },\n      },\n    };\n    return this.connector.post('resource.collection', { data: styleData }).then((newStyle) => {\n      newStyle.name = newStyle.name || name;\n      return newStyle;\n    });\n  }\n\n  @evented({ status: 'create-wms', template: 'wms creation for resource ID {id}' })\n  createWms(newStyle, name?: string) {\n    name = name || newStyle.name || newStyle.id;\n    const wmsData = {\n      resource: {\n        cls: 'wmsserver_service',\n        parent: {\n          id: 0\n        },\n        display_name: 'WMS_' + name,\n        keyname: null,\n        description: null\n      },\n      resmeta: {\n        items: {}\n      },\n      wmsserver_service: {\n        layers: [\n          {\n            keyname: 'image1',\n            display_name: name,\n            resource_id: newStyle.id,\n            min_scale_denom: null,\n            max_scale_denom: null\n          }\n        ]\n      }\n    };\n    return this.connector.post('resource.collection', { data: wmsData });\n  }\n\n  @evented({ status: 'upload', template: 'file upload' })\n  fileUpload(file: File, options: RasterUploadOptions = {}) {\n    return this.connector.post('file_upload.upload', {\n      file,\n      onProgress: (percentComplete) => {\n        const message = percentComplete.toFixed(2) + '% uploaded';\n        if (options.onProgress) {\n          options.onProgress(percentComplete);\n        }\n        const eventProgress: EmitterStatus = {\n          status: 'upload',\n          state: 'progress',\n          message,\n          data: {\n            percentComplete\n          }\n        };\n        this.emitter.emit('status:change', eventProgress);\n      },\n    }).then((resp) => {\n      let meta;\n      if (resp && resp.upload_meta) {\n        meta = resp.upload_meta[0];\n      }\n      return meta;\n    });\n  }\n}\n"],"sourceRoot":""}