{"version":3,"sources":["webpack://NgwUploader/webpack/universalModuleDefinition","webpack://NgwUploader/webpack/bootstrap","webpack://NgwUploader/../ngw-connector/lib/ngw-connector.js","webpack://NgwUploader/C:/Users/rendr/nextgis/nextgisweb_frontend/node_modules/events/events.js","webpack://NgwUploader/./src/utils.ts","webpack://NgwUploader/./src/decorators.ts","webpack://NgwUploader/./src/ngw-uploader.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","e","default","this","Function","eval","_events","_maxListeners","EventEmitter","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","u","a","error","length","arguments","Error","f","context","Array","slice","apply","addListener","newListener","listener","push","warned","console","trace","on","once","removeListener","splice","removeAllListeners","listeners","listenerCount","constructor","then","resolve","reject","_state","_handled","_value","_deferreds","_immediateFn","onFulfilled","onRejected","promise","_unhandledRejectionFn","setTimeout","catch","finally","all","race","warn","self","Promise","setImmediate","_id","_clearFn","clearTimeout","setInterval","clearInterval","close","unref","ref","enroll","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","document","getPrototypeOf","toString","process","nextTick","postMessage","importScripts","onmessage","Math","random","source","data","indexOf","addEventListener","attachEvent","MessageChannel","port1","port2","createElement","documentElement","onreadystatechange","removeChild","appendChild","callback","args","h","concat","run","fun","array","v","title","browser","env","argv","version","versions","off","prependListener","prependOnceListener","binding","cwd","chdir","umask","replace","assign","route","options","emitter","_loadingQueue","_loadingStatus","connect","next","throw","done","label","sent","trys","ops","return","iterator","pop","auth","login","password","getUserInfo","makeQuery","headers","getAuthorizationHeaders","withCredentials","user","Authorization","makeClientId","btoa","unescape","encodeURIComponent","request","shift","post","method","baseUrl","_setLoadingQueue","_getJson","_executeLoadingQueue","waiting","timestamp","Date","XMLHttpRequest","open","responseText","JSON","parse","message","readyState","status","onerror","upload","onprogress","lengthComputable","loaded","total","onProgress","setRequestHeader","file","FormData","append","stringify","send","undefined","isFunction","arg","isObject","isUndefined","isNumber","type","er","handler","len","err","fired","g","list","position","evlistener","templateRe","evented","target","propertyKey","descriptor","originalMethod","_this","_i","template","str","eventBegin","state","resp","eventEnd","eventError","ngw_uploader_NgwUploader","NgwUploader","inputOptions","html","events","__assign","connector","ngw_connector_default","createInput","input","setAttribute","innerHTML","uploadPromise","uploadRaster","files","success","fileUpload","meta","createName","addTimestampToName","toISOString","createResource","newRes","createStyle","resource","cls","display_name","parent","id","parentId","raster_layer","mime_type","size","srs","Accept","styleData","description","keyname","newStyle","createWms","wmsData","resmeta","items","wmsserver_service","layers","resource_id","min_scale_denom","max_scale_denom","percentComplete","toFixed","eventProgress","upload_meta","__decorate","File","__webpack_exports__"],"mappings":"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","file":"ngw-uploader.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NgwUploader\"] = factory();\n\telse\n\t\troot[\"NgwUploader\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.NgwConnector=t():e.NgwConnector=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=6)}([function(e,t){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return\"function\"==typeof e}function i(e){return\"object\"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return\"number\"==typeof e}(e)||e<0||isNaN(e))throw TypeError(\"n must be a positive number\");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,s,u,a,c;if(this._events||(this._events={}),\"error\"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=new Error('Uncaught, unspecified \"error\" event. ('+t+\")\");throw f.context=t,f}if(o(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),s=(c=n.slice()).length,a=0;a<s;a++)c[a].apply(this,u);return!0},n.prototype.addListener=function(e,t){var s;if(!r(t))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(s=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[e].length),\"function\"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError(\"listener must be a function\");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,o,s,u;if(!r(t))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[e])return this;if(s=(n=this._events[e]).length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit(\"removeListener\",e,t);else if(i(n)){for(u=s;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit(\"removeListener\",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)\"removeListener\"!==t&&this.removeAllListeners(t);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(function(e,t){!function(){\"use strict\";function n(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}function r(){}function i(e){if(!(this instanceof i))throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"not a function\");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function o(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,r)}else(1===e._state?s:u)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError(\"A promise cannot be resolved with itself.\");if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void a(e);if(\"function\"==typeof n)return void c(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,a(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,a(e)}function a(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;n>t;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var f=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new function(e,t,n){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.promise=n}(e,t,n)),n},i.prototype.finally=n,i.all=function(e){return new i(function(t,n){function r(e,s){try{if(s&&(\"object\"==typeof s||\"function\"==typeof s)){var u=s.then;if(\"function\"==typeof u)return void u.call(s,function(t){r(e,t)},n)}i[e]=s,0==--o&&t(i)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError(\"Promise.all accepts an array\");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var o=i.length,s=0;i.length>s;s++)r(s,i[s])})},i.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,i=e.length;i>r;r++)e[r].then(t,n)})},i._immediateFn=\"function\"==typeof e&&function(t){e(t)}||function(e){f(e,0)},i._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",e)};var l=function(){if(\"undefined\"!=typeof self)return self;if(\"undefined\"!=typeof window)return window;if(void 0!==t)return t;throw Error(\"unable to locate global object\")}();\"Promise\"in l?l.Promise.prototype.finally||(l.Promise.prototype.finally=n):l.Promise=i}()}).call(this,n(3).setImmediate,n(0))},function(e,t,n){(function(e){var r=void 0!==e&&e||\"undefined\"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(4),t.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){\"use strict\";if(!e.setImmediate){var r,i=1,o={},s=!1,u=e.document,a=Object.getPrototypeOf&&Object.getPrototypeOf(e);a=a&&a.setTimeout?a:e,\"[object process]\"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage(\"\",\"*\"),e.onmessage=n,t}}()?function(){var t=\"setImmediate$\"+Math.random()+\"$\",n=function(n){n.source===e&&\"string\"==typeof n.data&&0===n.data.indexOf(t)&&f(+n.data.slice(t.length))};e.addEventListener?e.addEventListener(\"message\",n,!1):e.attachEvent(\"onmessage\",n),r=function(n){e.postMessage(t+n,\"*\")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){f(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&\"onreadystatechange\"in u.createElement(\"script\")?function(){var e=u.documentElement;r=function(t){var n=u.createElement(\"script\");n.onreadystatechange=function(){f(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(f,0,e)},a.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var s={callback:e,args:t};return o[i]=s,r(i),i++},a.clearImmediate=c}function c(e){delete o[e]}function f(e){if(s)setTimeout(f,0,e);else{var t=o[e];if(t){s=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),s=!1}}}}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(5))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function s(){throw new Error(\"clearTimeout has not been defined\")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r=\"function\"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,c=[],f=!1,l=-1;function h(){f&&a&&(f=!1,a.length?c=a.concat(c):l=-1,c.length&&p())}function p(){if(!f){var e=u(h);f=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||f||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(e){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(e,t,n){\"use strict\";n.r(t);n(2);var r=/\\{ *([\\w_-]+) *\\}/g;function i(e,t){return e.replace(r,function(e,n){var r=t[n];if(void 0===r)throw new Error(\"No value provided for letiable \"+e);return\"function\"==typeof r&&(r=r(t)),r})}var o=n(1),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function u(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,u)}a((r=r.apply(e,t||[])).next())})},a=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},c={route:\"/api/component/pyramid/route\"},f=function(){function e(e){this.options={},this.emitter=new o.EventEmitter,this._loadingQueue={},this._loadingStatus={},this.options=s({},c,e||{})}return e.prototype.connect=function(){return u(this,void 0,void 0,function(){var e,t,n,r=this;return a(this,function(i){switch(i.label){case 0:return this.route?[2,Promise.resolve(this.route)]:[3,1];case 1:return this.options.auth?(e=this.options.auth,t=e.login,n=e.password,t&&n?[4,this.getUserInfo()]:[3,3]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.makeQuery(this.options.route,{},{}).then(function(e){return r.route=e,e})];case 4:return[2,i.sent()]}})})},e.prototype.getUserInfo=function(){var e=this;return this.makeQuery(\"/api/component/auth/current_user\",{},{headers:this.getAuthorizationHeaders(),withCredentials:!0}).then(function(t){return e.user=t,e.emitter.emit(\"login\",t),t}).catch(function(t){throw e.emitter.emit(\"login:error\",t),t})},e.prototype.getAuthorizationHeaders=function(){return{Authorization:\"Basic \"+this.makeClientId()}},e.prototype.makeClientId=function(){var e=this.options.auth,t=e.login,n=e.password;return window.btoa(unescape(encodeURIComponent(t+\":\"+n)))},e.prototype.request=function(e,t,n){var r=this;return this.connect().then(function(o){for(var s in o)if(o.hasOwnProperty(s)&&s===e){var u=o[s].slice(),a=u.shift();if(u.length){t=t||{};for(var c={},f=0;f<u.length;f++){var l=u[f];if(c[f]=\"{\"+l+\"}\",void 0===t[l])throw new Error(\"`\"+l+\"` url api argument is not specified\")}a=i(a,c)}return r.makeQuery(a,t,n)}})},e.prototype.post=function(e,t,n){return(t=t||{}).method=\"POST\",this.request(e,n,t)},e.prototype.makeQuery=function(e,t,n){var r=this;if(e=(this.options.baseUrl?this.options.baseUrl:\"\")+e)return t&&(e=i(e,t)),e=e.replace(/([^:]\\/)\\/+/g,\"$1\"),this._loadingStatus[e]?(this._loadingStatus[e]=!1,new Promise(function(t,n){r._setLoadingQueue(e,t,n)})):(this._loadingStatus[e]=!0,this._getJson(e,n).then(function(t){return r._loadingStatus[e]=!1,r._executeLoadingQueue(e,t),t}).catch(function(t){throw r._loadingStatus[e]=!1,r._executeLoadingQueue(e,t,!0),r.emitter.emit(\"error\",t),t}));throw new Error(\"No `url` parameter set for option \"+name)},e.prototype._setLoadingQueue=function(e,t,n){this._loadingQueue[e]=this._loadingQueue[e]||{name:e,waiting:[]},this._loadingQueue[e].waiting.push({resolve:t,reject:n,timestamp:new Date})},e.prototype._executeLoadingQueue=function(e,t,n){var r=this._loadingQueue[e];if(r){for(var i=0;i<r.waiting.length;i++){var o=r.waiting[i];n?o.reject&&o.reject():o.resolve(t)}r.waiting=[]}},e.prototype._getJson=function(e,t){var n=this;return new Promise(function(r,i){n.user&&((t=t||{}).headers=n.getAuthorizationHeaders()),function(e,t,n,r){var i;void 0===n&&(n={}),n.method=n.method||\"GET\",(i=new XMLHttpRequest).open(n.method||\"GET\",e,!0);var o=function(e){void 0===e&&(e=!1);var n=e?r:t;if(i.responseText)try{n(JSON.parse(i.responseText))}catch(e){r({message:\"\"})}else r({message:\"\"})};i.onreadystatechange=function(){4===i.readyState&&200===i.status||3===i.readyState&&201===i.status?o():3===i.readyState&&400===i.status?o():4===i.readyState&&500===i.status&&o()},i.onerror=function(e){r(e)},i.upload.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;n.onProgress&&n.onProgress(t)}};var s,u=n.headers;if(u)for(var a in u)u.hasOwnProperty(a)&&i.setRequestHeader(a,u[a]);if(i.withCredentials=n.withCredentials,n.file){if((s=new FormData).append(\"file\",n.file),n.data)for(var c in s)s.hasOwnProperty(c)&&s.append(c,s[c])}else s=n.data?JSON.stringify(n.data):null;i.send(s)}(e,r,t,i)})},e}();t.default=f}]).default});\n//# sourceMappingURL=ngw-connector.js.map","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","// from leaflet Util.js\r\nconst templateRe = /\\{ *([\\w_-]+) *\\}/g;\r\n\r\nexport function template(str, data) {\r\n  return str.replace(templateRe, function (s, key) {\r\n    let value = data[key];\r\n\r\n    if (value === undefined) {\r\n      value = '';\r\n\r\n    } else if (typeof value === 'function') {\r\n      value = value(data);\r\n    }\r\n    return value;\r\n  });\r\n}\r\n","import NgwUploader, { EmitterStatus, AvailableStatus } from './ngw-uploader';\r\nimport { template } from './utils';\r\n\r\n/**\r\n * decorator to emit events on start end and error for async methods\r\n * @param options\r\n */\r\nexport function evented(options?: { status: AvailableStatus; template?: string }) {\r\n  return function (target: NgwUploader, propertyKey: string, descriptor: PropertyDescriptor) {\r\n    const originalMethod = descriptor.value;\r\n\r\n    descriptor.value = function (...args) {\r\n      let message = status || propertyKey;\r\n      if (options && options.template && typeof args[0] === 'object') {\r\n        message = template(options.template, args[0]);\r\n      }\r\n\r\n      const eventBegin: EmitterStatus = {\r\n        status: options.status,\r\n        state: 'begin',\r\n        message: message + ' start',\r\n        data: args[0]\r\n      };\r\n      this.emitter.emit('status:change', eventBegin);\r\n\r\n      return originalMethod.apply(this, args).then((resp) => {\r\n        const eventEnd: EmitterStatus = {\r\n          status: options.status,\r\n          state: 'end',\r\n          message: message + ' finish',\r\n          data: resp\r\n        };\r\n        this.emitter.emit('status:change', eventEnd);\r\n        return resp;\r\n      }).catch((er) => {\r\n        const eventError: EmitterStatus = {\r\n          status: options.status,\r\n          state: 'error',\r\n          message: message + ' error',\r\n          data: er\r\n        };\r\n        this.emitter.emit('status:change', eventError);\r\n        throw er;\r\n      });\r\n    };\r\n    return descriptor;\r\n  };\r\n}\r\n","// import { NgwConnector } from '../ngw-connector/src/ngw-connector';\r\nimport NgwConnector, { NgwConnectorOptions } from '@nextgis/ngw-connector';\r\nimport { EventEmitter } from 'events';\r\nimport { evented } from './decorators';\r\n\r\nexport interface UploadInputOptions {\r\n  html?: string;\r\n  name?: string;\r\n  parentId?: number;\r\n  addTimestampToName?: boolean;\r\n  success?: (newRes: ResourceCreateResp) => void;\r\n  error?: (er: Error) => void;\r\n  createName?: (name: string) => string;\r\n}\r\n\r\ninterface ResourceCreateResp {\r\n  id: number;\r\n  name?: string;\r\n  parent?: { id: number };\r\n}\r\n\r\nexport interface NgwUploadOptions extends NgwConnectorOptions {\r\n  inputOptions?: UploadInputOptions;\r\n}\r\n\r\nexport interface RasterUploadResp {\r\n  status?: number;\r\n}\r\n\r\nexport interface RasterRequestResourceOptions {\r\n  cls: 'raster_layer';\r\n  display_name: string;\r\n  parent: { id: number };\r\n}\r\n\r\nexport interface RasterLayerSourceOptions {\r\n  id: string;\r\n  mime_type: string;\r\n  size: number;\r\n}\r\n\r\nexport interface RasterRequestLayerOptions {\r\n  source: RasterLayerSourceOptions;\r\n  srs: { id: 3857 };\r\n}\r\n\r\nexport interface RasterRequestOptions {\r\n  resource: RasterRequestResourceOptions;\r\n  raster_layer: RasterRequestLayerOptions;\r\n}\r\n\r\nexport interface RasterUploadOptions {\r\n  name?: string;\r\n  parentId?: number;\r\n  onProgress?: (percentComplete: number) => void;\r\n  addTimestampToName?: boolean;\r\n  createName?: (name: string) => string;\r\n}\r\n\r\nexport interface RespError {\r\n  exception: 'ValidationError';\r\n  message: string;\r\n  serializer: string;\r\n}\r\n\r\nexport type AvailableStatus = 'upload' | 'create-resource' | 'create-style' | 'create-wms';\r\n\r\nexport interface EmitterStatus {\r\n  status: AvailableStatus;\r\n  state: 'begin' | 'end' | 'progress' | 'error';\r\n  message?: string;\r\n  data?: any;\r\n}\r\n\r\nexport default class NgwUploader {\r\n\r\n  options: NgwUploadOptions = {\r\n    inputOptions: {\r\n      html: 'Upload file',\r\n    },\r\n  };\r\n\r\n  emitter = new EventEmitter();\r\n  connector: NgwConnector;\r\n\r\n  constructor(options: NgwUploadOptions) {\r\n    this.options = { ...this.options, ...options };\r\n    this.connector = new NgwConnector(options);\r\n  }\r\n\r\n  createInput(options: UploadInputOptions = {}): HTMLElement {\r\n    options = { ...this.options.inputOptions, ...options };\r\n    const input = document.createElement('input');\r\n    input.setAttribute('type', 'file');\r\n    input.innerHTML = options.html;\r\n\r\n    input.addEventListener('change', () => {\r\n      const uploadPromise = this.uploadRaster(input.files[0], options);\r\n      if (options.success) {\r\n        uploadPromise.then(options.success);\r\n      }\r\n      if (options.error) {\r\n        uploadPromise.then(options.error);\r\n      }\r\n      // .then((newStyle) => {\r\n      //   this.createWms(newStyle, options.name);\r\n      // });\r\n    });\r\n\r\n    return input;\r\n  }\r\n\r\n  uploadRaster(file: File, options: RasterUploadOptions): Promise<any> {\r\n    return this.fileUpload(file, options).then((meta) => {\r\n      let name = options.name || meta.name;\r\n      if (options.createName) {\r\n        name = options.createName(name);\r\n      } else if (options.addTimestampToName) {\r\n        name += '_' + new Date().toISOString();\r\n      }\r\n      options.name = name;\r\n      return this.createResource(meta, name, options).then((newRes) => {\r\n        if (newRes) {\r\n          newRes.name = newRes.name || options.name;\r\n          return this.createStyle(newRes);\r\n        }\r\n        return Promise.reject('No resource');\r\n      });\r\n    });\r\n  }\r\n\r\n  @evented({ status: 'create-resource', template: 'resource creation' })\r\n  createResource(meta, name: string, options: RasterUploadOptions) {\r\n\r\n    const data = {\r\n      resource: {\r\n        cls: 'raster_layer',\r\n        display_name: name,\r\n        parent: { id: options.parentId !== undefined ? options.parentId : 0 },\r\n      },\r\n      raster_layer: {\r\n        source: {\r\n          id: meta.id,\r\n          mime_type: meta.mime_type,\r\n          size: meta.size,\r\n        },\r\n        srs: { id: 3857 },\r\n      },\r\n    };\r\n\r\n    return this.connector.post('resource.collection', { data, headers: { Accept: '*/*' } });\r\n  }\r\n\r\n  @evented({ status: 'create-style', template: 'style creation for resource ID {id}' })\r\n  createStyle(newRes, name?: string) {\r\n    name = name || newRes.name || newRes.id;\r\n    const styleData = {\r\n      resource: {\r\n        cls: 'raster_style',\r\n        description: null,\r\n        display_name: name + '_style',\r\n        keyname: null,\r\n        parent: {\r\n          id: newRes.id,\r\n        },\r\n      },\r\n    };\r\n    return this.connector.post('resource.collection', { data: styleData }).then((newStyle) => {\r\n      newStyle.name = newStyle.name || name;\r\n      return newStyle;\r\n    });\r\n  }\r\n\r\n  @evented({ status: 'create-wms', template: 'wms creation for resource ID {id}' })\r\n  createWms(newStyle, name?: string) {\r\n    name = name || newStyle.name || newStyle.id;\r\n    const wmsData = {\r\n      resource: {\r\n        cls: 'wmsserver_service',\r\n        parent: {\r\n          id: 0\r\n        },\r\n        display_name: 'WMS_' + name,\r\n        keyname: null,\r\n        description: null\r\n      },\r\n      resmeta: {\r\n        items: {}\r\n      },\r\n      wmsserver_service: {\r\n        layers: [\r\n          {\r\n            keyname: 'image1',\r\n            display_name: name,\r\n            resource_id: newStyle.id,\r\n            min_scale_denom: null,\r\n            max_scale_denom: null\r\n          }\r\n        ]\r\n      }\r\n    };\r\n    return this.connector.post('resource.collection', { data: wmsData });\r\n  }\r\n\r\n  @evented({ status: 'upload', template: 'file upload' })\r\n  fileUpload(file: File, options: RasterUploadOptions = {}) {\r\n    return this.connector.post('file_upload.upload', {\r\n      file,\r\n      onProgress: (percentComplete) => {\r\n        const message = percentComplete.toFixed(2) + '% uploaded';\r\n        if (options.onProgress) {\r\n          options.onProgress(percentComplete);\r\n        }\r\n        const eventProgress: EmitterStatus = {\r\n          status: 'upload',\r\n          state: 'progress',\r\n          message,\r\n          data: {\r\n            percentComplete\r\n          }\r\n        };\r\n        this.emitter.emit('status:change', eventProgress);\r\n      },\r\n    }).then((resp) => {\r\n      let meta;\r\n      if (resp && resp.upload_meta) {\r\n        meta = resp.upload_meta[0];\r\n      }\r\n      return meta;\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":""}